(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{39227:function(e,r,t){"use strict";var a=t(28480),o=t(25097),l=t(30606),i=t(53469);let n=(0,l.Z)(),s=(0,a.Z)({themeId:i.Z,defaultTheme:n,defaultClassName:"MuiBox-root",generateClassName:o.Z.generate});r.Z=s},67674:function(e,r,t){Promise.resolve().then(t.t.bind(t,63222,23)),Promise.resolve().then(t.t.bind(t,69050,23)),Promise.resolve().then(t.t.bind(t,84815,23)),Promise.resolve().then(t.t.bind(t,46086,23)),Promise.resolve().then(t.t.bind(t,89195,23)),Promise.resolve().then(t.t.bind(t,47043,23)),Promise.resolve().then(t.bind(t,50423)),Promise.resolve().then(t.t.bind(t,54668,23)),Promise.resolve().then(t.t.bind(t,8807,23)),Promise.resolve().then(t.t.bind(t,2681,23)),Promise.resolve().then(t.t.bind(t,6811,23)),Promise.resolve().then(t.t.bind(t,44901,23)),Promise.resolve().then(t.t.bind(t,66976,23)),Promise.resolve().then(t.t.bind(t,78139,23)),Promise.resolve().then(t.t.bind(t,64438,23)),Promise.resolve().then(t.bind(t,34234)),Promise.resolve().then(t.bind(t,37846))},37846:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return s}});var a=t(57437),o=t(2265),l=t(65915);let i=[{field:"id",headerName:"ID",width:70},{field:"tipo",headerName:"Tipo",width:130},{field:"estado",headerName:"Estado",width:130},{field:"tractocamion",headerName:"Tracto",width:130},{field:"remolquedelantero",headerName:"Remolque Delantero",width:130},{field:"dolly",headerName:"Dolly",width:130},{field:"remolquetrasero",headerName:"Remolque Trasero",width:130}];async function n(){let e=await fetch("https://fulltrailerserver-4d6224ea988e.herokuapp.com/api/getConfiguraciones");if(!e.ok)throw Error("Failed to fetch data");let r=await e.json(),t=r.map((e,r)=>({...e,id:e.id||r}));return t}function s(){let[e,r]=(0,o.useState)([]);return(0,o.useEffect)(()=>{n().then(e=>{r(e)}).catch(e=>console.error("Error fetching data:",e))},[]),(0,a.jsx)("div",{style:{height:"89vh",width:"100%",minWidth:"610"},children:(0,a.jsx)(l._$,{rows:e,columns:i,pageSize:50,checkboxSelection:!0})})}},34234:function(e,r,t){"use strict";let a;t.r(r),t.d(r,{default:function(){return x}});var o=t(57437),l=t(2265),i=t(39227),n=t(73724),s=t(43226),d=t(9609),c=t(21975),u=t(29742),h=t(50819),m=t(74309),f=t(84081),v=t(38639);a="https://fulltrailerserver-4d6224ea988e.herokuapp.com/api/";let b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function x(){let[e,r]=l.useState(!1),[t,x]=(0,l.useState)([]),[p,j]=(0,l.useState)([]),[g,w]=(0,l.useState)(null),[C,Z]=(0,l.useState)(null),[P,q]=(0,l.useState)(null),[y,S]=(0,l.useState)(null),[E,N]=(0,l.useState)([]),k=()=>r(!1),[D,T]=l.useState("sencillo"),F=async e=>{let r;e.preventDefault();let t=new FormData(e.target),o={};if(t.forEach((e,r)=>{o[r]=e}),r="sencillo"===D?{Modalidad:D,Tractocamion:g,RemolqueDelantero:C}:{Modalidad:D,Tractocamion:g,RemolqueDelantero:C,RemolqueTrasero:P,Dolly:y},"full"===D&&C===P)alert("No puedes elegir el mismo remolque dos veces");else if(window.confirm("Confirmar configuraci\xf3n:\n\n".concat(JSON.stringify(r,null,2),"\n\n\xbfDeseas continuar?")))try{let e=await fetch(a+"insertConfiguracion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});e.ok?(alert("Configuraci\xf3n enviada correctamente"),k()):alert("Hubo un error al enviar la configuraci\xf3n")}catch(e){alert("Hubo un error al enviar la configuraci\xf3n"),console.error("Error al enviar la configuraci\xf3n:",e)}},I=async()=>{try{let e=await fetch(a+"getTractocamionesDisponibles");if(!e.ok)throw Error("Failed to fetch data");let r=await e.json();x(r)}catch(e){console.error("Error fetching tractocamiones data:",e)}},R=async()=>{try{let e=await fetch(a+"getRemolquesDisponibles");if(!e.ok)throw Error("Failed to fetch data");let r=await e.json();j(r)}catch(e){console.error("Error fetching remolques data:",e)}},_=async()=>{try{let e=await fetch(a+"getDolliesDisponibles");if(!e.ok)throw Error("Failed to fetch data");let r=await e.json();N(r)}catch(e){console.error("Error fetching dollies data:",e)}};return(0,l.useEffect)(()=>{I(),R(),_()},[]),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.Z,{onClick:()=>r(!0),children:"Crear Nueva Configuraci\xf3n."}),(0,o.jsx)(d.Z,{open:e,onClose:k,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsx)("form",{onSubmit:F,children:(0,o.jsxs)(i.Z,{sx:b,children:[(0,o.jsxs)(s.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:["Crear una Configuraci\xf3n Nueva. ",(0,o.jsx)("br",{}),"  ",(0,o.jsx)("br",{})]}),(0,o.jsxs)(f.Z,{fullWidth:!0,children:[(0,o.jsx)(h.Z,{id:"modalidad-label",children:"Modalidad"}),(0,o.jsxs)(v.Z,{labelId:"modalidad-label",id:"modalidad-select",value:D,sx:{width:320},label:"Modalidad",onChange:e=>{T(e.target.value)},children:[(0,o.jsx)(m.Z,{value:"sencillo",children:"Sencillo"}),(0,o.jsx)(m.Z,{value:"full",children:"Full"})]}),(0,o.jsx)("br",{})]}),"sencillo"===D?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{disablePortal:!0,id:"tractocamionesAutoCompleteSencillo",value:g,options:t.map(e=>e.clave),sx:{width:320},onChange:(e,r)=>{w(r)},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Tractocami\xf3n",required:!0})}),(0,o.jsx)("br",{}),(0,o.jsx)(u.Z,{disablePortal:!0,id:"remolquedelanteroAutoComplete",value:C,onChange:(e,r)=>Z(r),options:p.filter(e=>{var r;return e.clave!==(null===(r=t[0])||void 0===r?void 0:r.clave)}).map(e=>e.clave),sx:{width:320},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Remolque 1",required:!0})}),(0,o.jsx)("br",{})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.Z,{disablePortal:!0,id:"tractocamionesAutoCompleteFull",value:g,options:t.map(e=>e.clave),sx:{width:320},onChange:(e,r)=>{w(r)},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Tractocami\xf3n",required:!0})}),(0,o.jsx)("br",{}),(0,o.jsx)(u.Z,{disablePortal:!0,id:"remolquedelanteroAutoComplete",value:C,onChange:(e,r)=>Z(r),options:p.filter(e=>{var r;return e.clave!==(null===(r=t[0])||void 0===r?void 0:r.clave)}).map(e=>e.clave),sx:{width:320},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Remolque 1",required:!0})}),(0,o.jsx)("br",{}),(0,o.jsx)(u.Z,{disablePortal:!0,id:"dolliesAutoComplete",value:y,options:E.map(e=>e.clave),sx:{width:320},onChange:(e,r)=>{S(r)},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Dolly",required:!0})}),(0,o.jsx)("br",{}),(0,o.jsx)(u.Z,{disablePortal:!0,id:"remolquetraseroAutoCompleteFull",value:P,onChange:(e,r)=>q(r),options:p.filter(e=>{var r;return e.clave!==(null===(r=t[0])||void 0===r?void 0:r.clave)}).map(e=>e.clave),sx:{width:320},renderInput:e=>(0,o.jsx)(c.Z,{...e,label:"Remolque 2",required:!0})}),(0,o.jsx)("br",{})]}),(0,o.jsx)(s.Z,{id:"modal-modal-description",sx:{mt:2},children:"Solo Podras Crear una Configuraci\xf3n a la vez."}),(0,o.jsx)("button",{type:"submit",variant:"contained",color:"primary",children:"Enviar"})]})})})]})}}},function(e){e.O(0,[124,558,915,971,596,744],function(){return e(e.s=67674)}),_N_E=e.O()}]);